{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/ShowPersons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","personObject","post","id","delete","put","Filter","filter","filterChange","value","onChange","PersonForm","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","someStyling","marginBottom","onSubmit","style","htmlFor","type","Person","name","number","handleClick","className","onClick","ShowPersons","persons","map","person","key","Notification","text","App","useState","setPersons","setNewName","setNewNumber","setFilter","notif","setNotif","useEffect","console","log","personService","returnedPersons","length","personsToShow","toLowerCase","includes","showNotification","setTimeout","event","target","preventDefault","some","window","confirm","formerPerson","find","changedPerson","returnedPerson","catch","error","concat","JSON","stringify","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.00414006.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then( response => response.data)\r\n}\r\n\r\nconst create = (personObject) => {\r\n    const request = axios.post(baseUrl, personObject)\r\n    return request.then( response => response.data)\r\n}\r\n\r\nconst update = (id, personObject) => {\r\n    const request = axios.put(baseUrl + '/' + id, personObject)\r\n    return request.then( response => response.data )\r\n}\r\n\r\nconst del = (id) => {\r\n    const request = axios.delete(baseUrl + '/' + id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, del, update }","import React from 'react'\r\n\r\nconst Filter = ({filter, filterChange}) => {\r\n    return (\r\n    <div>\r\n      filter shown with <input value={filter} onChange={filterChange} />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addNewPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    const someStyling = {\r\n      marginBottom: '0.3em',\r\n    }\r\n  \r\n    return (\r\n        <form onSubmit={addNewPerson}>\r\n        <div style={someStyling}>\r\n          <label htmlFor=\"name\">name: </label>\r\n          <input\r\n            id=\"name\"\r\n            value={ newName }\r\n            onChange={ handleNameChange }\r\n          />\r\n        </div>        \r\n        <div style={someStyling}>\r\n          <label htmlFor=\"number\">number: </label>\r\n          <input\r\n            id=\"number\"\r\n            value={ newNumber }\r\n            onChange={ handleNumberChange }\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ( {name, number, handleClick}) => {\r\n    return (\r\n        <div className=\"personElement\">\r\n            {name} {number}{\" \"}\r\n            <button onClick={handleClick}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ShowPersons = ({persons, handleClick}) => {\r\n    return (\r\n        <div>\r\n            {persons.map((person) => (\r\n                <Person\r\n                    name={person.name}\r\n                    number={person.number}\r\n                    handleClick={() => handleClick(person.id)}\r\n                    key={person.id}\r\n                />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowPersons","import React from 'react'\r\n\r\nconst Notification = ({ text, style }) => {\r\n    if(style === 'red') style='notificationRed';\r\n    if(style === 'green') style='notificationGreen';\r\n\r\n    if (text === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className={style}>\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react';\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport ShowPersons from './components/ShowPersons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notif, setNotif ] = useState({text: null, style: 'green'})\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll().then( returnedPersons => {\n        console.log('promise fulfilled')\n        setPersons(returnedPersons)\n      })\n  }, [])\n  console.log('rendering', persons.length, 'persons')\n\n  const personsToShow = (filter.length > 0 ?\n    persons.filter((person) => (\n      person.name.toLowerCase().includes(filter.toLowerCase())))\n    : persons)\n\n  const showNotification = (text, style) => {\n    setNotif({text: text, style: style})          \n    setTimeout(() => {\n      setNotif({text: null})\n    }, 5000)\n  } \n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    \n    console.log(persons)\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with the new one?`)) {\n        //upadting person\n        const formerPerson = persons.find(person => person.name === newName)\n        const changedPerson = {...formerPerson, number: newNumber,}\n        \n        personService.update(formerPerson.id, changedPerson).then((returnedPerson) => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n          showNotification(`The number of ${returnedPerson.name} replaced`, 'green')\n        }).catch(error => {\n          showNotification(error.response.data.error, 'red')\n          //showNotification(`Information of ${formerPerson.name} has been removed from server`, 'red')\n        })\n      }\n    } else{\n      const person = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personService.create(person).then( returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        showNotification(`Added ${returnedPerson.name}`, 'green')\n      }).catch(error => {\n        console.log(JSON.stringify(error))\n        showNotification(error.response.data.error, 'red')\n      })\n    }\n  }\n  const deletePerson = (id) => {\n    const personToDelete = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${personToDelete.name} ?`)) {\n      personService.del(id).then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n        showNotification(`Removed ${personToDelete.name}`, 'green')\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }  \n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification text={notif.text} style={notif.style}/>\n      <Filter \n        filter={filter} \n        filterChange={handleFilterChange} \n      />\n\n      <h2>Add a new</h2>\n      <PersonForm\n        addNewPerson={addNewPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <ShowPersons\n        persons={personsToShow}\n        handleClick={deletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}